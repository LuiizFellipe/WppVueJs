{"ast":null,"code":"//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport axios from 'axios';\nconst serverAPI = 'https://whatsapp-free01.wppserver.com/api';\nconst session = 'APIBRASIL2021';\nconst secretkey = 'LIzBSyCmNVzwt2ErKgtnZgLZ';\nexport default {\n  data() {\n    return {\n      teste: 'Gerar QR Code',\n      tokenwhats: 'teste'\n    };\n  },\n\n  methods: {\n    async getToken() {\n      axios({\n        method: 'POST',\n        url: serverAPI + '/' + session + '/' + secretkey + '/generate-token'\n      }).then(WppToken => {\n        console.log(WppToken);\n        this.tokenwhats = WppToken.data.token;\n        setTimeout(() => {\n          this.startSession();\n        }, 1500);\n      }).catch(function (error) {\n        console.log(error);\n      });\n    },\n\n    async startSession() {\n      axios({\n        method: 'POST',\n        url: serverAPI + '/' + session + '/start-session',\n        responseType: 'stream',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': 'Bearer ' + this.tokenwhats\n        },\n        data: {\n          \"webhook\": \"https://webhook.site/c5b08f90-fd50-4bc9-823c-a933269a6067\"\n        }\n      });\n    },\n\n    teste2() {\n      this.tokenwhats = '123';\n    }\n\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;AAmBA;AACA;AACA;AACA;AACA;EACAA;IACA;MACAC,sBADA;MAEAC;IAFA;EAIA,CANA;;EAOAC;IACA;MACAC;QACAC,cADA;QAEAC;MAFA,GAIAC,IAJA,CAIAC;QACAC;QACA;QACAC;UACA;QACA,CAFA,EAEA,IAFA;MAGA,CAVA,EAWAC,KAXA,CAWA;QACAF;MACA,CAbA;IAcA,CAhBA;;IAiBA;MACAL;QACAC,cADA;QAEAC,iDAFA;QAGAM,sBAHA;QAIAC;UACA,kCADA;UAEA;QAFA,CAJA;QAQAb;UACA;QADA;MARA;IAYA,CA9BA;;IA+BAc;MACA;IACA;;EAjCA;AAPA","names":["data","teste","tokenwhats","methods","axios","method","url","then","WppToken","console","setTimeout","catch","responseType","headers","teste2"],"sourceRoot":"src","sources":["App.vue"],"sourcesContent":["<template>\n  <div id=\"app\" class=\"container grid-md\">\n    <div class=\"columns\">\n      <div class=\"column col-12\">\n        <button @click=\"getToken()\">\n          {{ teste }}\n        </button>\n        <br>\n        <button @click=\"teste2()\">\n          btn teste\n        </button>\n        {{ tokenwhats }}\n\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\nconst serverAPI = 'https://whatsapp-free01.wppserver.com/api'\nconst session = 'APIBRASIL2021';\nconst secretkey = 'LIzBSyCmNVzwt2ErKgtnZgLZ';\nexport default {\n  data() {\n    return {\n      teste: 'Gerar QR Code',\n      tokenwhats: 'teste',\n    }\n  },\n  methods: {\n    async getToken() {\n      axios({\n        method: 'POST',\n        url: serverAPI + '/' + session + '/' + secretkey + '/generate-token',\n      })\n        .then((WppToken) => {\n          console.log(WppToken);\n          this.tokenwhats = WppToken.data.token;\n          setTimeout(() => {\n            this.startSession();\n          }, 1500)\n        })\n        .catch(function (error) {\n          console.log(error)\n        });\n    },\n    async startSession() {\n              axios({\n        method: 'POST',\n        url: serverAPI + '/' + session + '/start-session',\n        responseType: 'stream',\n        headers: {\n                'Content-Type': 'application/json',\n                'Authorization': 'Bearer ' + this.tokenwhats\n            },\n            data:{\n                \"webhook\": \"https://webhook.site/c5b08f90-fd50-4bc9-823c-a933269a6067\"\n            }\n        })\n    },\n    teste2(){\n        this.tokenwhats = '123';\n    }\n  }\n}\n</script>"]},"metadata":{},"sourceType":"module"}