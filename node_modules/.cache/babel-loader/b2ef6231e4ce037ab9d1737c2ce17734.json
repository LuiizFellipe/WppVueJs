{"ast":null,"code":"//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport axios from 'axios'; // import * as socket from 'vue-socket.io'\n// import socket from 'socket';\n\nconst serverAPI = 'https://whatsapp-free01.wppserver.com/api';\nconst session = 'APIBRASIL2021';\nconst secretkey = 'LIzBSyCmNVzwt2ErKgtnZgLZ';\nexport default {\n  data() {\n    return {\n      teste: 'Conectar',\n      tokenwhats: 'teste',\n      imagem: 'teste123',\n      sessao: '',\n      qrcoderen: 'gerar2'\n    };\n  },\n\n  methods: {\n    async getToken() {\n      this.teste = 'Conectando..';\n      axios({\n        method: 'POST',\n        url: serverAPI + '/' + session + '/' + secretkey + '/generate-token'\n      }).then(WppToken => {\n        console.log(WppToken);\n        this.startSession(WppToken.data.token);\n        this.sessao = WppToken.data.token;\n      }).catch(function (error) {\n        console.log(error);\n      });\n    },\n\n    async startSession(WppToken) {\n      axios({\n        method: 'POST',\n        url: serverAPI + '/' + session + '/start-session',\n        responseType: 'stream',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': 'Bearer ' + WppToken\n        },\n        data: {\n          \"webhook\": \"https://webhook.site/c5b08f90-fd50-4bc9-823c-a933269a6067\"\n        }\n      }).then(conectado => {\n        switch (conectado.data?.status) {\n          case 'CONNECTED':\n            this.teste = 'Conectado';\n            break;\n\n          default:\n            this.teste = 'Não foi possivel conectar';\n            break;\n        }\n      }).catch(function (error) {\n        console.log(error);\n      });\n    },\n\n    getQrCode() {\n      axios({\n        method: 'GET',\n        url: serverAPI + '/' + session + '/qrcode-session',\n        responseType: 'stream',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': 'Bearer ' + this.sessao\n        },\n        data: {\n          \"webhook\": \"https://webhook.site/c5b08f90-fd50-4bc9-823c-a933269a6067\"\n        }\n      }).then(QRCODE => {\n        console.log(QRCODE);\n      }).catch(function (error) {\n        console.log(error);\n      });\n    },\n\n    async closeSession() {\n      axios({\n        method: 'POST',\n        url: serverAPI + '/' + session + '/close-session',\n        headers: {\n          'Authorization': 'Bearer ' + this.sessao\n        }\n      }).then(desconectado => {\n        console.log(desconectado);\n        this.teste = 'Desconectado';\n      }).catch(function (error) {\n        console.log(error);\n      });\n    }\n\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AA4BA,0B,CACA;AAEA;;AACA;AACA;AACA;AACA;EACAA;IACA;MACAC,iBADA;MAEAC,mBAFA;MAGAC,kBAHA;MAIAC,UAJA;MAKAC;IALA;EAOA,CATA;;EAUAC;IACA;MACA;MACAC;QACAC,cADA;QAEAC;MAFA,GAIAC,IAJA,CAIAC;QACAC;QACA;QACA;MACA,CARA,EASAC,KATA,CASA;QACAD;MACA,CAXA;IAYA,CAfA;;IAgBA;MACAL;QACAC,cADA;QAEAC,iDAFA;QAGAK,sBAHA;QAIAC;UACA,kCADA;UAEA;QAFA,CAJA;QAQAf;UACA;QADA;MARA,GAYAU,IAZA,CAYAM;QACA;UACA;YACA;YACA;;UACA;YACA;YACA;QANA;MAQA,CArBA,EAsBAH,KAtBA,CAsBA;QACAD;MACA,CAxBA;IAyBA,CA1CA;;IA2CAK;MACAV;QACAC,aADA;QAEAC,kDAFA;QAGAK,sBAHA;QAIAC;UACA,kCADA;UAEA;QAFA,CAJA;QAQAf;UACA;QADA;MARA,GAYAU,IAZA,CAYAQ;QACAN;MACA,CAdA,EAeAC,KAfA,CAeA;QACAD;MACA,CAjBA;IAkBA,CA9DA;;IA+DA;MACAL;QACAC,cADA;QAEAC,iDAFA;QAGAM;UACA;QADA;MAHA,GAOAL,IAPA,CAOAS;QACAP;QACA;MACA,CAVA,EAWAC,KAXA,CAWA;QACAD;MACA,CAbA;IAcA;;EA9EA;AAVA","names":["data","teste","tokenwhats","imagem","sessao","qrcoderen","methods","axios","method","url","then","WppToken","console","catch","responseType","headers","conectado","getQrCode","QRCODE","desconectado"],"sourceRoot":"src","sources":["App.vue"],"sourcesContent":["<template>\n  <div id=\"app\" class=\"container grid-md\">\n    <div class=\"columns\">\n      <div class=\"column col-12\">\n        <button @click=\"getToken()\">\n          Conectar ao servidor do WhatsApp\n        </button>\n        <button @click=\"closeSession()\">\n          Fechar sessão\n        </button>\n        <button >\n          Gerar QR code\n        </button>\n        <br>\n        {{ teste }}\n        <br>\n        <button @click=\"teste2()\">\n          btn teste\n        </button>\n        <br>\n        {{ qrcoderen }}\n        <img v-bind:scr=\"imagem\">\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\n// import * as socket from 'vue-socket.io'\n\n// import socket from 'socket';\nconst serverAPI = 'https://whatsapp-free01.wppserver.com/api'\nconst session = 'APIBRASIL2021';\nconst secretkey = 'LIzBSyCmNVzwt2ErKgtnZgLZ';\nexport default {\n  data() {\n    return {\n      teste: 'Conectar',\n      tokenwhats: 'teste',\n      imagem: 'teste123',\n      sessao: '',\n      qrcoderen: 'gerar2'\n    }\n  },\n  methods: {\n    async getToken() {\n      this.teste = 'Conectando..'\n      axios({\n        method: 'POST',\n        url: serverAPI + '/' + session + '/' + secretkey + '/generate-token',\n      })\n        .then((WppToken) => {\n          console.log(WppToken);\n          this.startSession(WppToken.data.token);\n          this.sessao = WppToken.data.token;\n        })\n        .catch(function (error) {\n          console.log(error)\n        });\n    },\n    async startSession(WppToken) {\n      axios({\n        method: 'POST',\n        url: serverAPI + '/' + session + '/start-session',\n        responseType: 'stream',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': 'Bearer ' + WppToken\n        },\n        data: {\n          \"webhook\": \"https://webhook.site/c5b08f90-fd50-4bc9-823c-a933269a6067\"\n        }\n      })\n        .then((conectado) => {\n          switch (conectado.data?.status) {\n            case 'CONNECTED':\n              this.teste = 'Conectado'\n              break;\n            default:\n              this.teste = 'Não foi possivel conectar'\n              break;\n          }\n        })\n        .catch(function (error) {\n          console.log(error)\n        });\n    },\n    getQrCode() {\n      axios({\n        method: 'GET',\n        url: serverAPI + '/' + session + '/qrcode-session',\n        responseType: 'stream',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': 'Bearer ' + this.sessao\n        },\n        data: {\n          \"webhook\": \"https://webhook.site/c5b08f90-fd50-4bc9-823c-a933269a6067\"\n        }\n      })\n        .then((QRCODE) => {\n          console.log(QRCODE);\n        })\n        .catch(function (error) {\n          console.log(error)\n        });\n    },\n    async closeSession(){\n      axios({\n        method: 'POST',\n        url: serverAPI + '/' + session + '/close-session',\n        headers: {\n          'Authorization': 'Bearer ' + this.sessao\n        },\n      })\n        .then((desconectado) => {\n          console.log(desconectado);\n            this.teste = 'Desconectado';\n        })\n        .catch(function (error) {\n          console.log(error)\n        });\n    }\n  }\n}\n</script>"]},"metadata":{},"sourceType":"module"}